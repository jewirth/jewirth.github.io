---
layout: post
title: "Linux on Dell XPS 15 9570 (2018)"
date: 2018-07-25 19:37:00 +0200
---
*This page is a DRAFT! It's currently being created. You are welcome to modify it. Feel free to create a PR or just mail me.*

I recently bought a Dell XPS 15 9570 (2018). These are my notes for setting up a dual boot system allowing me to run my favorite GNU/Linux distribution - Linux Mint - and the pre-installed Windows 10 operating system.

# Collecting some important stuff to know

## Hardware
- I bought the variant with i7-8750H CPU, 16 GB of RAM and 512 GB of SDD
- The SDD is a M.2 2280 PCIe Solid State Drive

## Boot related settings in the BIOS:
- UEFI (Unified Extensible Firmware Interface)
- Legacy Mode: booting non UEFI supported operating systems
- SecureBoot: A protocol defined since UEFI 2.3.1 Errata C specification
- IDE / AHCI / Raid


## Install Linux on the internal SDD along with Windows 10

# Create free space for Linux
- Go to "Control Panel" -> "System and Security" -> "Administrative Tools" -> "Create and format harddisk partitions" ... this will open the tool called "Disk Management" ... That was intuitive, huh? You can also just hit the Windows-Key and type "partition"
- Right-click the biggest partition called "OS (C:)" and select "Shrink Volume"
- Decide how much you would like to shrink... I shrinked it down to approx. 50% (236185 MB)

# Create a bootable USB drive with Linux
- TODO: explain

# Boot Linux from your USB drive
- Enable Legacy Mode to be able to boot Linux from an USB drive
- Once you booted your Linux USB drive, you will notice that your internal SDD is not visible (check fdisk -l)
- We need to enable AHCI in the Bios to make Linux see your internal SDD (check fdisk -l)

# Enable AHCI mode
- With AHCI is enabled, the preinstalled Windows 10 won't boot :-( let's fix this first
- In Windows, run cmd.exe as admin and type ```bcdedit /set {current} safeboot minimal```
- Reboot, e.g. with shutdown /r
- Enter BIOS and switch from RAID to AHCI
- Boot into Windows - which runs in Safemode now - and run cmd.exe as admin and type ```bcdedit /deletevalue {current} safeboot```
- Reboot, e.g. with shutdown /r
- At this point, your BIOS is set to AHCI mode and Windows should boot properly

# Install Linux to your internal SDD
- You can now run the installer to install Linux to your internal SDD
- TODO: How & where to install the bootloader for dual boot?




